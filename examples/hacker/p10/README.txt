Notes:

This example uses gcc to compile the target rather than llvm.
gcc's semantics for boolean operators (return non-zero vs 1) 
seems to be easier for stoke.
